<div ng-controller="ordersController">
	<h1 ng-repeat='err in errors'>{{err.errors}}</h1>
	<h3>Add a new order:</h3>
	<form>
		<p>Customer: <select ng-model='newOrder.customer' required>
		<option ng-repeat='customer in customers'>{{customer.name}}</option>
		</select></p>

		<p>Order: <input type="number" min="1" ng-model='newOrder.quantity' required>

		<select ng-model='newOrder.product' required>
		<option  ng-repeat='product in products' ng-if='product.quantity > 0'>{{product.name}}</option>
		</select></p>

		<p><input type="submit" value="Order" ng-click='order()'></p>
	</form>

	<table>
		<tr>
			<th>Customer Name</th>
			<th>Product</th>
			<th>Quantity</th>
			<th>Date</th>
		</tr>
		<tr ng-repeat='order in orders'>
			<td>{{order.customer}}</td>
			<td>{{order.product}}</td>
			<td>{{order.quantity}}</td>
			<td>{{order.createdAt | date}}</td>
		</tr>
	</table>
</div>